# 客户端->服务端 消息类型

## 消息操作
| 消息类型     | 包含信息                                   |
|----------|----------------------------------------|
| 请求加载消息   | 请求者的用户 id                              |
| 请求发送普通消息 | 请求者的用户 id<br/>消息内容                     |
| 请求发送文件消息 | 请求者的用户 id<br/>文件名称<br/>文件内容(二进制组)<br/> |
| 请求发送图片消息 | 请求者的用户 id<br/>图片名称<br/>图片内容(二进制组)<br/> |
| 请求标记消息已读 | 请求者的用户 id                              |
| 请求清除历史消息 | 请求者的用户 id                              |

## 用户操作
| 消息类型     | 包含信息                              |
|----------|-----------------------------------|
| 请求登录     | 请求者的用户名<br/>请求者的用户密码              |
| 请求注册     | 待注册的用户名<br/>待注册的用户密码<br/>待注册的用户邮箱 |
| 请求更新用户信息 | 新的用户信息                            |
| 用户登出     | 请求者的用户 id                         |

## 联系人操作
| 消息类型    | 包含信息                     |
|---------|--------------------------|
| 请求加载联系人 | 请求者的用户 id                |
| 请求添加联系人 | 请求者的用户 id<br/>被添加者的用户 id |
| 请求删除联系人 | 删除者的用户 id<br/>被删除者的用户 id |

# 服务端->客户端 消息类型

## 消息操作
| 消息类型       | 包含信息 |
|------------|------|
| 消息加载完成     | 无    |
| 回应已经收到消息   | 无    |
| 回应已经清除历史消息 | 无    |

## 用户操作
| 消息类型       | 包含信息                                      |
|------------|-------------------------------------------|
| 回应登录成功     | 用户 id<br/>用户名<br/>电子邮件<br/>头像URL<br/>登录令牌 |
| 回应登录失败     | 失败原因                                      |
| 回应注册成功     | 用户 id<br/>用户名<br/>电子邮件<br/>头像URL<br/>登录令牌 |
| 回应注册失败     | 失败原因                                      |
| 回应更新用户信息成功 | 用户 id<br/>用户名<br/>电子邮件<br/>头像URL<br/>登录令牌 |

## 联系人操作
| 消息类型      | 包含信息                               |
|-----------|------------------------------------|
| 回应加载联系人成功 | 联系人列表(每个联系人具有contactId,昵称,头像,在线信息) |
| 回应加载联系人失败 | 错误信息                               |
| 回应添加联系人成功 | 联系人(contactId,昵称,头像,在线信息)          |
| 回应添加联系人失败 | 错误信息                               |

