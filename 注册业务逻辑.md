# CloudChat 注册业务逻辑
## 客户端
登录注册界面加载后，自动检查本地令牌，当有令牌时自动向服务端发送 LOGIN_BY_TOKEN 消息。

用户点击登录注册界面的“注册”按钮进入注册界面。在用户名、密码、邮箱均已输入后，点击“注册”按钮向服务端发送注册请求。

若服务端返回注册成功，则保存服务端返回的令牌，否则显示服务端返回的错误信息。
## 服务端
收到用户的注册请求后，解析请求的 JSON 格式字符串为 ProtocalMsg 对象，检查数据库的用户数据表（users），看是否存在请求注册的用户名。

若数据库中已存在请求注册的用户名，则发送 REGISTER_FAILURE 消息（RegisterFailureMsg 对象的 JSON 字符串）给客户端；若数据库中不存在请求注册的用户名，则为用户生成一个令牌，将新用户的信息存入 users 数据表，然后在从数据表中查询用户名获取新注册用户的 id，再发送 REGISTER_SUCCESS 消息（RegisterSuccessMsg 对象的 JSON 字符串）给客户端。（用户头像路径先设为默认头像路径。）

## 接口实现
服务端需实现 JSON 解析和生成、数据表 users 的读取和更新接口。
