<div class="sidebar-container">
  <!-- 基础信息区 -->
  <div class="profile-section">
    @if (selectedContact?.avatar){
      <img src="{{selectedContact?.avatar}}" alt="{{ selectedContact?.username?.charAt(0) || '?' }}" style="border-radius: 50%; width: 60%; height: 60%">
    } @else {
      <label>{{ selectedContact?.username?.charAt(0) || '?' }}</label>
    }
    <div class="profile-name">{{ selectedContact?.username || '未知用户' }}</div>
    <div class="profile-status">{{ selectedContact?.online ? '在线' : '离线' }}</div>
  </div>

  <!-- 功能模块区 -->
  <div class="modules-section">
    <!-- 聊天设置 -->
    <div class="module">
      <div class="module-title">聊天设置</div>
<!--      <div class="setting-item" (click)="handleSetting('clear')" title="清空聊天记录">-->
<!--        <i class="setting-icon"></i>-->
<!--        <span class="setting-text">清空聊天记录</span>-->
<!--      </div>-->
    </div>

    <!-- 共享内容 -->
    <div class="module">
      <div class="module-title">共享内容</div>
      <div class="shared-files">
        @for (file of sharedFiles; track file.id) {
          <div class="file-item" [class.image-file]="file.type === 'image'"
               (click)="previewFile(file)" title="点击预览 {{ file.name }}">
            <i class="file-icon"></i>
            <div class="file-info">
              <div class="file-name">{{ file.name }}</div>
              <div class="file-size">{{ file.size }}</div>
            </div>
            <button class="download-button" (click)="downloadFile(file); $event.stopPropagation()" title="下载文件">
              ↓
            </button>
          </div>
        }
      </div>
    </div>
  </div>
</div>
