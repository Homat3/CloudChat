<div class="sidebar-container">
  <!-- 基础信息区 -->
  <div class="profile-section">
    <div class="avatar">{{ selectedContact?.name?.charAt(0) || 'U' }}</div>
    <div class="profile-name">{{ selectedContact?.name || '未知用户' }}</div>
    <div class="profile-status">{{ selectedContact?.status || '未知状态' }}</div>
    <div class="profile-bio">产品经理 @ ABC公司</div>
  </div>

  <!-- 功能模块区 -->
  <div class="modules-section">
    <!-- 聊天设置 -->
    <div class="module">
      <div class="module-title">聊天设置</div>
      <div class="setting-item" (click)="handleSetting('mute')" title="开启/关闭消息免打扰">
        <i class="setting-icon"></i>
        <span class="setting-text">消息免打扰</span>
      </div>
      <div class="setting-item" (click)="handleSetting('clear')" title="清空聊天记录">
        <i class="setting-icon"></i>
        <span class="setting-text">清空聊天记录</span>
      </div>
      <div class="setting-item" (click)="handleSetting('report')" title="举报此用户">
        <i class="setting-icon"></i>
        <span class="setting-text">举报</span>
      </div>
    </div>

    <!-- 共享内容 -->
    <div class="module">
      <div class="module-title">共享内容</div>
      <div class="shared-files">
        <div
          *ngFor="let file of sharedFiles"
          class="file-item"
          [class.image-file]="file.type === 'image'"
          (click)="previewFile(file)"
          title="点击预览 {{ file.name }}">
          <i class="file-icon"></i>
          <div class="file-info">
            <div class="file-name">{{ file.name }}</div>
            <div class="file-size">{{ file.size }}</div>
          </div>
          <button class="download-button" (click)="downloadFile(file); $event.stopPropagation()" title="下载文件">
            ↓
          </button>
        </div>
      </div>
    </div>
  </div>
</div>