# 客户端->服务端 消息类型

## 消息操作
| 消息类型     | 包含信息                                             |
|----------|--------------------------------------------------|
| 请求加载消息   | 用户ID<br/>目标用户ID                                  |
| 请求发送普通消息 | 消息ID<br/>发送者ID<br/>接收者ID<br/>消息内容                |
| 请求发送文件消息 | 消息ID<br/>发送者ID<br/>接收者ID<br/>文件名称<br/>文件内容(二进制组) |
| 请求发送图片消息 | 消息ID<br/>发送者ID<br/>接收者ID<br/>图片名称<br/>图片内容(二进制组) |
| 请求标记消息已读 | 消息ID                                             |
| 请求清除历史消息 | 请求者用户ID<br/>目标用户ID                               |

## 用户操作
| 消息类型     | 包含信息                                     |
|----------|------------------------------------------|
| 请求账密登录   | 用户名<br/>用户密码                             |
| 请求令牌登录   | 登录令牌                                     |
| 请求注册     | 用户名<br/>用户密码<br/>电子邮箱                    |
| 请求更新个人资料 | 用户ID<br/>用户名<br/>用户密码<br/>电子邮箱<br/>头像URL |
| 请求登出     | 用户ID                                     |

## 联系人操作
| 消息类型    | 包含信息            |
|---------|-----------------|
| 请求加载联系人 | 用户ID            |
| 请求添加联系人 | 用户ID<br/>目标用户ID |
| 请求删除联系人 | 用户ID<br/>目标用户ID |

# 服务端->客户端 消息类型

## 消息操作
| 消息类型       | 包含信息 |
|------------|------|
| 消息加载完成     | 无    |
| 回应已经收到消息   | 消息ID |
| 回应已经清除历史消息 | 无    |

## 用户操作
| 消息类型       | 包含信息                                     |
|------------|------------------------------------------|
| 回应登录成功     | 用户ID<br/>用户名<br/>电子邮箱<br/>头像URL<br/>登录令牌 |
| 回应登录失败     | 错误信息                                     |
| 回应登出成功     | 无                                        |
| 回应注册成功     | 用户ID<br/>用户名<br/>电子邮箱<br/>头像URL<br/>登录令牌 |
| 回应注册失败     | 错误信息                                     |
| 回应个人资料更新成功 | 用户ID<br/>用户名<br/>用户密码<br/>电子邮箱<br/>头像URL |
| 回应个人资料更新失败 | 错误信息                                     |

## 联系人操作
| 消息类型      | 包含信息                                |
|-----------|-------------------------------------|
| 回应联系人加载成功 | 联系人列表(每个联系人包含contactId,用户名,在线状态,头像) |
| 回应联系人加载失败 | 错误信息                                |
| 回应联系人添加成功 | contactId<br/>用户名<br/>在线状态<br/>头像   |
| 回应联系人添加失败 | 错误信息                                |
| 回应联系人删除成功 | 无                                   |
| 回应联系人删除失败 | 错误信息                                |
